
<%- include('partials/header')%>
<%- include('partials/navbar')%>

<style>
    /* Add your CSS styles here */
    img.image {
        width: 400px;
        height: auto;
    }
    body {
        background-color: #f8f9fa;
    }
    .form-container {
        max-width: 400px;
         margin: 10px;  
        /* padding: 30px; */
        /* background: #ffffff; */
        /* border: 1px solid #e3e6ea; */
        /* border-radius: 8px; */
        /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); */
    }
 
</style>

<div class="conatiner ms-4  mt-3 ">
    <h1><%= blog.title %></h1>
    
    <img class="image" src="/<%= blog.coverImageURL %>" class="card-img-top" alt="...">
   <!-- <p> <pre><%= blog.body %></pre></p> -->
   <p><%= blog.body %></p>
   
</div>
<!-- what is locals -->
  <!-- <%= JSON.stringify(locals) %>  -->
  <!-- locals is an object it stored all the details and data of the blog post it is inisde the ejs template--> 
  <!-- why we use locals? -->



  <div class=" ms-3 py-3">
    <img src="<%= blog.createdBy.profileImageURL %>" width="50px" rounded alt=""> <%= blog.createdBy.fullName %>
</div>
<div class="form-container ">
<h3>Comments(<%= comments.length %>)</h3>
<% if (locals.user) { %>
   
        <form action="/blog/comment/<%= blog._id %>" method="POST">
            
            <div class="mb-3">  
                <input type="text" class="form-control" id="content" name="content" placeholder="Enter your comment" class="form-control">
            </div>  
            <button type="submit" class="btn btn-sm btn-primary">Add</button>
        </form>
<% } %>
</div>
<div class="mt-3">
    <% comments.forEach(comment => { %>
        <div class="">
            <img src="<%= comment.createdBy.profileImageURL %>" width="50px" rounded alt=""> <%= comment.createdBy.fullName %>
            <pre class="ms-3"><%= comment.content %></pre>
        </div>
    <% }) %>
</div>
    
<%- include('partials/script')%>